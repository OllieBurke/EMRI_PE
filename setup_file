echo building directory for data files
mkdir data_files

echo Loading conda module
module load conda

echo Now creating environment
conda create -n vanilla_few -c conda-forge gcc_linux-64 gxx_linux-64 wget gsl lapack=3.6.1 hdf5 numpy Cython scipy tqdm jupyter ipython h5py requests matplotlib corner python=3.9 
conda activate vanilla_few

echo Installing cupy-cuda11x toolkit
pip install cupy-cuda11x

echo Installing eryn, sampler built off emcee. 
pip install eryn 

echo Now going to clone dependencies 
mkdir Github_Repos; cd Github_Repos

git clone https://github.com/mikekatz04/LISAanalysistools.git
git clone https://github.com/mikekatz04/lisa-on-gpu.git
git clone https://github.com/BlackHolePerturbationToolkit/FastEMRIWaveforms.git

echo Now installing LISAanalysistools 
cd LISAanalysistools
python setup.py install
cd ../lisa-on-gpu

echo Now installing lisa-on-gpu 
python setup.py install

echo Now installing FastEMRIWaveforms 
cd ../FastEMRIWaveforms
python setup.py install




